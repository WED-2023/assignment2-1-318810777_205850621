"use strict";(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[123],{3504:(e,r,a)=>{a.r(r),a.d(r,{default:()=>p});var t=function(){var e=this,r=e._self._c;return r("div",{staticClass:"register-container"},[r("div",{staticClass:"image-section"}),r("div",{staticClass:"register-form-section"},[r("div",{staticClass:"register-form"},[r("img",{staticClass:"logo",attrs:{src:a(1930),alt:"Logo"}}),r("h1",{staticClass:"title"},[e._v("Register")]),r("b-form",{on:{submit:function(r){return r.preventDefault(),e.onRegister.apply(null,arguments)},reset:function(r){return r.preventDefault(),e.onReset.apply(null,arguments)}}},[r("b-form-group",{attrs:{label:"Username","label-for":"username","label-cols-md":"4","label-cols-lg":"4"}},[r("b-form-input",{attrs:{id:"username",state:e.validateState("username")},on:{blur:e.checkUsername},model:{value:e.$v.form.username.$model,callback:function(r){e.$set(e.$v.form.username,"$model",r)},expression:"$v.form.username.$model"}}),e.$v.form.username.required?e._e():r("b-form-invalid-feedback",[e._v(" Username is required ")]),e.$v.form.username.$error&&e.form.usernameIsTaken?r("b-form-invalid-feedback",[e._v(" Username is already taken ")]):e.$v.form.username.minLength&&e.$v.form.username.maxLength?e._e():r("b-form-invalid-feedback",[e._v(" Username length should be between 3-8 characters long ")]),e.$v.form.username.alpha?e._e():r("b-form-invalid-feedback",[e._v(" Username should contain only letters ")])],1),r("b-form-group",{attrs:{label:"First Name","label-for":"firstName","label-cols-md":"4","label-cols-lg":"4"}},[r("b-form-input",{attrs:{id:"firstName",state:e.validateState("firstName")},model:{value:e.$v.form.firstName.$model,callback:function(r){e.$set(e.$v.form.firstName,"$model",r)},expression:"$v.form.firstName.$model"}}),e.$v.form.firstName.required?e._e():r("b-form-invalid-feedback",[e._v(" First name is required ")])],1),r("b-form-group",{attrs:{label:"Last Name","label-for":"lastName","label-cols-md":"4","label-cols-lg":"4"}},[r("b-form-input",{attrs:{id:"lastName",state:e.validateState("lastName")},model:{value:e.$v.form.lastName.$model,callback:function(r){e.$set(e.$v.form.lastName,"$model",r)},expression:"$v.form.lastName.$model"}}),e.$v.form.lastName.required?e._e():r("b-form-invalid-feedback",[e._v(" Last name is required ")])],1),r("b-form-group",{attrs:{label:"Country","label-for":"country","label-cols-md":"4","label-cols-lg":"4"}},[r("b-form-select",{attrs:{id:"country",options:e.countries,state:e.validateState("country")},model:{value:e.$v.form.country.$model,callback:function(r){e.$set(e.$v.form.country,"$model",r)},expression:"$v.form.country.$model"}}),r("b-form-invalid-feedback",[e._v(" Country is required ")])],1),r("b-form-group",{attrs:{label:"Email","label-for":"email","label-cols-md":"4","label-cols-lg":"4"}},[r("b-form-input",{attrs:{id:"email",type:"email",state:e.validateState("email")},model:{value:e.$v.form.email.$model,callback:function(r){e.$set(e.$v.form.email,"$model",r)},expression:"$v.form.email.$model"}}),e.$v.form.email.required?e._e():r("b-form-invalid-feedback",[e._v(" Email is required ")]),e.$v.form.email.email?e._e():r("b-form-invalid-feedback",[e._v(" Enter a valid email ")])],1),r("b-form-group",{attrs:{label:"Password","label-for":"password","label-cols-md":"4","label-cols-lg":"4"}},[r("b-form-input",{attrs:{id:"password",type:"password",state:e.validateState("password")},model:{value:e.$v.form.password.$model,callback:function(r){e.$set(e.$v.form.password,"$model",r)},expression:"$v.form.password.$model"}}),e.$v.form.password.required?e._e():r("b-form-invalid-feedback",[e._v(" Password is required ")]),e.$v.form.password.minLength&&e.$v.form.password.maxLength&&e.$v.form.password.validPassword?e._e():r("b-form-invalid-feedback",[e._v(" Password must be 5-10 characters long, contain at least one number and one special character ")])],1),r("b-form-group",{attrs:{label:"Confirm Password","label-for":"confirmPassword","label-cols-md":"4","label-cols-lg":"4"}},[r("b-form-input",{attrs:{id:"confirmPassword",type:"password",state:e.validateState("confirmPassword")},model:{value:e.$v.form.confirmPassword.$model,callback:function(r){e.$set(e.$v.form.confirmPassword,"$model",r)},expression:"$v.form.confirmPassword.$model"}}),e.$v.form.confirmPassword.required?e._e():r("b-form-invalid-feedback",[e._v(" Password confirmation is required ")]),e.$v.form.confirmPassword.sameAsPassword?e._e():r("b-form-invalid-feedback",[e._v(" Passwords must match ")])],1),r("div",{staticClass:"buttons mt-3"},[r("b-button",{attrs:{type:"reset",variant:"danger"}},[e._v("Reset")]),r("b-button",{staticClass:"ml-3",attrs:{type:"submit",variant:"primary"}},[e._v("Register")])],1),r("div",{staticClass:"mt-2 text-center"},[e._v(" Already have an account? "),r("router-link",{attrs:{to:"login"}},[e._v("Log in here")])],1)],1),e.form.submitError?r("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" Register failed: "+e._s(e.form.submitError)+" ")]):e._e()],1)])])},s=[],o=a(4048),n=a(388),m=(a(2062),a(4114),a(6910),a(2010),a(7495),a(906),a(2505)),i=a.n(m),l=a(3278),u=a(3484),f=function(e){return/[0-9]/.test(e)&&/[!@#$%^&*(),.?":{}|<>]/.test(e)};const c={name:"Register",data:function(){return{form:{username:"",firstName:"",lastName:"",country:null,email:"",password:"",confirmPassword:"",submitError:void 0,usernameIsTaken:!1},countries:[]}},validations:{form:{username:{required:l.mw,minLength:(0,l.Bp)(3),maxLength:(0,l.Ru)(8),alpha:l.X4,isTaken:function(e){return(0,n.A)((0,o.A)().mark((function r(){var a;return(0,o.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e){r.next=2;break}return r.abrupt("return",!0);case 2:return r.next=4,(0,u.wz)(e);case 4:return a=r.sent,r.abrupt("return",200!==a.status);case 6:case"end":return r.stop()}}),r)})))()}},firstName:{required:l.mw},lastName:{required:l.mw},country:{required:l.mw},email:{required:l.mw,email:l.Rp},password:{required:l.mw,minLength:(0,l.Bp)(5),maxLength:(0,l.Ru)(10),validPassword:f},confirmPassword:{required:l.mw,sameAsPassword:(0,l.f4)("password")}}},mounted:function(){this.fetchCountries()},methods:{fetchCountries:function(){var e=this;i().get("https://restcountries.com/v3.1/all").then((function(r){e.countries=r.data.map((function(e){return{value:e.name.common,text:e.name.common}})).sort((function(e,r){return e.text.localeCompare(r.text)}))}))["catch"]((function(e){console.error("Error fetching countries:",e)}))},validateState:function(e){var r=this.$v.form[e],a=r.$dirty,t=r.$error;return a?!t:null},register:function(){var e=this;return(0,n.A)((0,o.A)().mark((function r(){var a,t;return(0,o.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,a={username:e.form.username,firstName:e.form.firstName,lastName:e.form.lastName,country:e.form.country,email:e.form.email,password:e.form.password},r.next=4,(0,u.kz)(a);case 4:t=r.sent,200!==t.status&&201!==t.status||(e.$root.store.login(e.form.username),e.$router.push("/")),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),e.form.submitError=r.t0.response.data.message;case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()},onRegister:function(){this.$v.form.$touch(),this.$v.form.$anyError||this.register()},onReset:function(){var e=this;this.form={username:"",firstName:"",lastName:"",country:null,email:"",password:"",confirmPassword:"",submitError:void 0,usernameIsTaken:!1},this.$nextTick((function(){e.$v.$reset()}))},checkUsername:function(){var e=this;return(0,n.A)((0,o.A)().mark((function r(){var a;return(0,o.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.$v.form.username.required&&e.$v.form.username.alpha&&e.$v.form.username.minLength&&e.$v.form.username.maxLength){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,r.next=5,(0,u.wz)(e.form.username);case 5:a=r.sent,200===a.status?e.form.usernameIsTaken=!0:e.form.usernameIsTaken=!1,r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](2),404===r.t0.response.status?e.form.usernameIsTaken=!1:console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[2,9]])})))()}}},d=c;var v=a(1656),b=(0,v.A)(d,t,s,!1,null,"5ad74289",null);const p=b.exports}}]);
//# sourceMappingURL=123.11fee3ee.js.map