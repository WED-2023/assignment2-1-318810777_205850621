"use strict";(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[444],{444:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"profile-page"},[t("h1",{staticClass:"text-center mb-5"},[e._v("Create New Recipe")]),t("AddRecipeModal")],1)},r=[],s=function(){var e=this,t=e._self._c;return t("b-form",{staticClass:"recipe-form gradient-effect",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[t("b-form-group",{attrs:{label:"Title","label-for":"title"}},[t("b-form-input",{attrs:{id:"title",required:""},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),t("b-form-group",{attrs:{label:"Image URL","label-for":"image"}},[t("b-form-input",{attrs:{id:"image",required:""},model:{value:e.form.image,callback:function(t){e.$set(e.form,"image",t)},expression:"form.image"}})],1),t("b-form-row",[t("b-col",[t("b-form-group",{attrs:{label:"Ready In Minutes","label-for":"readyInMinutes"}},[t("b-form-input",{attrs:{id:"readyInMinutes",type:"number",min:"5",required:""},model:{value:e.form.readyInMinutes,callback:function(t){e.$set(e.form,"readyInMinutes",t)},expression:"form.readyInMinutes"}})],1)],1),t("b-col",[t("b-form-group",{attrs:{label:"Servings","label-for":"servings"}},[t("b-form-input",{attrs:{id:"servings",type:"number",min:"1",required:""},model:{value:e.form.servings,callback:function(t){e.$set(e.form,"servings",t)},expression:"form.servings"}})],1)],1)],1),t("b-form-group",{attrs:{label:"Ingredients","label-for":"ingredients"}},[t("div",{staticClass:"textarea-container"},[t("div",{ref:"lineNumbersIngredients",staticClass:"line-numbers"},[e._v(" "+e._s(e.lineNumbers)+" ")]),t("b-form-textarea",{attrs:{id:"ingredients",placeholder:"List each ingredient on a new line",rows:"5",required:""},on:{input:e.updateLineNumbers,scroll:function(t){return e.syncScroll("ingredients")}},model:{value:e.form.ingredients,callback:function(t){e.$set(e.form,"ingredients",t)},expression:"form.ingredients"}})],1)]),t("b-form-group",{attrs:{label:"Instructions","label-for":"instructions"}},[t("div",{staticClass:"textarea-container"},[t("div",{ref:"lineNumbersInstructions",staticClass:"line-numbers"},[e._v(" "+e._s(e.lineNumbersInstructions)+" ")]),t("b-form-textarea",{attrs:{id:"instructions",placeholder:"List each step on a new line",rows:"5",required:""},on:{input:e.updateLineNumbersInstructions,scroll:function(t){return e.syncScroll("instructions")}},model:{value:e.form.instructions,callback:function(t){e.$set(e.form,"instructions",t)},expression:"form.instructions"}})],1)]),t("b-form-group",{staticClass:"dietary-options",attrs:{label:"Dietary Options","label-for":"dietaryOptions"}},[t("b-form-checkbox-group",{attrs:{switches:""},model:{value:e.form.dietaryOptions,callback:function(t){e.$set(e.form,"dietaryOptions",t)},expression:"form.dietaryOptions"}},[t("b-form-checkbox",{attrs:{value:"vegetarian"}},[e._v("Vegetarian")]),t("b-form-checkbox",{attrs:{value:"vegan"}},[e._v("Vegan")]),t("b-form-checkbox",{attrs:{value:"glutenFree"}},[e._v("Gluten-Free")])],1)],1),t("div",{staticClass:"button-wrapper"},[t("b-button",{attrs:{variant:"primary"},on:{click:e.onSubmit}},[e._v("Submit Recipe")])],1)],1)},o=[];n(4423),n(8598),n(2062),n(4114),n(1699);const a={data:function(){return{form:{title:"",image:"",readyInMinutes:"",servings:"",ingredients:"",instructions:"",dietaryOptions:[]},lineNumbers:"",lineNumbersInstructions:""}},mounted:function(){this.updateLineNumbers(),this.updateLineNumbersInstructions()},methods:{updateLineNumbers:function(){var e=this;this.lineNumbers=this.generateLineNumbers(this.form.ingredients),this.$nextTick((function(){e.syncScroll("ingredients")}))},updateLineNumbersInstructions:function(){var e=this;this.lineNumbersInstructions=this.generateLineNumbers(this.form.instructions),this.$nextTick((function(){e.syncScroll("instructions")}))},generateLineNumbers:function(e){var t=e.split("\n");return t.map((function(e,t){return t+1})).join("\n")+"\n"},syncScroll:function(e){var t=document.getElementById(e),n="ingredients"===e?this.$refs.lineNumbersIngredients:this.$refs.lineNumbersInstructions;n.scrollTop=t.scrollTop},onSubmit:function(){var e=this.form.ingredients.split("\n").map((function(e){return{original:e}})),t=this.form.instructions.split("\n").map((function(e,t){return{number:t+1,step:e}})),n={title:this.form.title,image:this.form.image,readyInMinutes:this.form.readyInMinutes,servings:this.form.servings,extendedIngredients:e,analyzedInstructions:[{name:"Instructions",steps:t}],instructions:t.map((function(e){return e.step})).join("\n"),vegetarian:this.form.dietaryOptions.includes("vegetarian"),glutenFree:this.form.dietaryOptions.includes("glutenFree"),vegan:this.form.dietaryOptions.includes("vegan"),aggregateLikes:0,isViewed:!1,isFavorited:!1};this.saveRecipe(n),this.resetForm(),this.$bvModal.hide("add-recipe-modal")},saveRecipe:function(e){this.$root.store.myRecipes.push(e),this.$root.toast("Success","Recipe added successfully","success")},resetForm:function(){this.form={title:"",image:"",readyInMinutes:"",servings:"",ingredients:"",instructions:"",dietaryOptions:[]},this.updateLineNumbers(),this.updateLineNumbersInstructions()}}},u=a;var l=n(1656),c=(0,l.A)(u,s,o,!1,null,"6c590612",null);const m=c.exports,f={components:{AddRecipeModal:m}},d=f;var b=(0,l.A)(d,i,r,!1,null,"f50e5fa6",null);const p=b.exports},8598:(e,t,n)=>{var i=n(6518),r=n(9504),s=n(7055),o=n(5397),a=n(4598),u=r([].join),l=s!==Object,c=l||!a("join",",");i({target:"Array",proto:!0,forced:c},{join:function(e){return u(o(this),void 0===e?",":e)}})}}]);
//# sourceMappingURL=444.a4549dce.js.map